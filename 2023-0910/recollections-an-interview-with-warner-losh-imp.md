# 回忆录：与 Warner Losh (@imp) 的采访

- 原文：[Recollections: An Interview with Warner Losh (@imp)](https://freebsdfoundation.org/our-work/journal/browser-based-edition/recollections-an-interview-with-warner-losh-imp/)
- 作者：TOM JONES
- 译者：chatgpt
- 校对：夏文纯一

**由[TOM JONES（汤姆·琼斯](#author) 撰写**
## **问: 能否告诉我们，在 FreeBSD 项目启动的八九十年代初期，你是如何度过的？**

**答:**  在八九十年代末，我正在新墨西哥矿业技术学院攻读计算机科学和数学学位。我们有一台 Vax 11750，配备了一两兆字节的内存，支持计算机科学系的 20 到 30 个用户。同时，我们还有 18 或 20 台 SUN 工作站。那时，我们正在从运行 TOPS-20 的旧 DEC System 20 迁移到 Unix，因此大部分校园都在使用 Unix。

大学毕业后，我在 Wollongong Group 找到了一份TCP 产品的技术支持的工作。当时我并不知道 Wollongong Group 与 Unix 有关，或者我没有意识到它的完整意义。第一个 Unix 移植是在澳大利亚的 Wollongong 大学完成的，这家公司购买了该移植的权利。

我在那里工作，为 VMS TCP/IP（他们的产品）提供技术支持，但我没有意识到我错过了一些与早期 Unix 有关的人们见面的机会。

之后，我加入了 Solbourne Computer Inc.，他们生产 Sparc Station 和兼容 Sparc 的服务器，运行他们自己版本的 SunOS。大约在这个时候，我开始参与开源。为了进行开发工作，我买了一台 PC，在上面运行 Linux，因为当时还没有 FreeBSD 的发行版，而且补丁包难以获取。它们没有被广泛宣传，所以我并不知道它们存在。

当时有一场关于使用哪种图形界面的战争。Jordan Hubbard 联系了我，因为他也在使用相同的图形工具包。我们开发了一个工具包，以两种样式呈现，这样你就可以一次编写你的软件，随处运行，生活就会很美好——这是理论。Jordan 就是那个工具包的用户之一。

有一天，他联系我说：“哦，顺便说一下，我正在尝试启动一个名为 FreeBSD 的操作系统。你应该为它进行移植(之前说的桌面工具包)。”我说：“我应该如何安装它？”他说：“嗯，给 Rod Grimes 寄一张光盘，或者最好是直接买一张光盘，我会寄给 Rod Grimes，他会安装并寄给你，然后你就可以运行 FreeBSD 了。”这是在 1.0 版本之前。

在那段时间里，我还为一些东西（比如 tcsh）贡献了补丁。我会发现 bug，然后修复它们，然后发送一个补丁和 tarball readme 文件。即使在开始 FreeBSD 工作之前，我也在进行开源工作。

## **问:我问过其他人是如何了解 FreeBSD 的，但我想你是通过 Jordan 的直接营销而加入的。**

**答:**  Jordan 想做我正在做的事情。他想在他的 FreeBSD 机器上运行这个工具包和 GUI 构建器。对他而言，让我进行移植是最有利的，这就是他招募我的方式。从那以后，我一直在使用 FreeBSD。

## **问:那么，你开始使用 FreeBSD之后，你是如何关注那些在世界各地发出的最新的争论话题？**

**答:**  嗯——勾起了我很久远的回忆。我想其中一些可能是发布到 Usenet 上的。我相信我的雇主当时确实有一些访问权限。虽然当时我们不在互联网上，但我们与 Usenet 有连接。

这就是我了解 FreeBSD 的最新动态并有机会在线上进行一些争论的方式。这是我长期以来一直具有的一个特质，我已经在为争论而争论方面有了很大的进步。我现在尽量为了辩论而辩论时提出观点。

在早期，有很多争论，其中一些争论了一些好的观点，而其他的则是一些你无法想象的疯狂而愚蠢的细枝末节。

## **问:你认为是什么使你在项目早期始终参与到技术方面？**

**答:**  早期，我进行了一些警告清理工作——在我们刚开始时有数千个警告。我认为我做的最重要的事情之一是担任 PC 卡维护人员的角色，并使 CardBus 在 FreeBSD 上运行起来。那个时候，这些都是新兴的技术，非常重要——大约是 3.x 时期。

在早期，发布相当频繁。在项目启动后的一两年或三年左右，我得到了我的第一台笔记本电脑，并开始参与贡献。那可能是我对项目的第一个重要而且有影响的贡献。在那之前，我做了一些很琐碎的事情，主要是处理我在尝试使用 FreeBSD 时遇到的清理和错误修复。

## **问:你知道 FreeBSD 1.0 和 FreeBSD 2.0 之间发生的变革背后的背景吗？**

**答:**  我对发生的背景和变革了解一些，但我没有直接参与其中。我了解很多关于那场官司的情况，当时我得知了它，后来我详细研究了它。简而言之：伯克利发布了一个去掉了所有 AT&T 代码的 4.x 版本，称为 Net2。Bill Jolitz 使用它创建了 386BSD，然后与其他人一起创建了名为 BSDI 的公司。因此，有一个免费版本和商业版本，而 Bill Jolitz 在开源免费的自由世界中消失了。

Jordan Hubbard、Nate Williams 和其他一些人参与了创建系统的许多不同补丁。他们制作了 FreeBSD 1.0 和 1.1。AT&T 对 BSDI 使用 1-800-ITS-UNIX 电话号码感到不满，并以商标侵权为由起诉了他们。这演变成了一场关于商业机密和版权的激烈斗争。

AT&T 的很多裁决都对他们(BSDI公司)不利，所以他们解决了这场官司，并在自由社区强加了一项协议，基本上是 FreeBSD——FreeBSD 的原则——同意不再基于 Net2 进行任何发布，而是从伯克利的 4.4 Lite 进行发布。尽管伯克利对一切进行了清理，并得到了 AT&T 的认可，但仍然存在一些缺失的部分。

当时参与 FreeBSD 的每个人都获取了新的源代码，获取了我们为 386 编写的驱动程序，获取了我们为 386 编写并被允许使用的代码。我们重写了系统中缺失的半打文件。FreeBSD 这样做，NetBSD 在当时也经历了类似的过程。这也是为什么 BSD 之间的一些低级别的东西不同的原因之一。由于那时两个项目已经分开，FreeBSD 专注于 x86 并使其运行更快，而 NetBSD 专注于可移植性。因此，有不同的灵感和不同的非常强烈的个性，这使得有效的合作变得困难——这可能是在描述当时发生的所有争论和争吵的更为圆滑的方式。

要使这一切发生起来，可能需要几个星期或几个月。

你可以回顾一下我们转换到 Git 时的早期历史。历史一直延伸到 2.0 但没有进一步，因为很难提取 1.x 的历史，而且两者之间存在断裂。

你可以在 Git 中看到事情发生得很快——人们在快速而猛烈地提交。David Greenman 参与其中，Jordan 也参与其中，Rod Grimes，我认为甚至 Poul-Henning Kamp 到这个时候也参与其中，进行了使一切发生的努力。

## **问:你能告诉我你是如何更多地参与项目组织的过程的吗？**

**答:**  项目初期的一个问题是它围绕着 Jordan 和核心团队。人们进出核心团队，但它是一个非常自我选择的团队，有越来越多的开发人员对此感到不满。

我们觉得核心团队没有足够好地代表项目。在组织端口工作的不同部分中，核心团队的代表不足。Jordan 写了 bsd.port.mk，Satoshi Asami 接手了它，而 Jordan 又在核心团队中，但除此之外并没有太多其他端口的代表。

因此，——不论对错——人们开始感觉核心团队是一个精英主义的机构。核心团队当时比现在可能还要糟糕，沟通很糟糕，决策很糟糕，你知道，他们的操作过程一点都不好定义。

我们想到了一个核心团队成为一个选举机构的想法——Poul-Henning Kamp、Wes Peters 和我。我们聚在一起编写了一套简单的章程。我们决定项目的基本原则是：对项目有信任，你必须信任核心团队，否则一切都会崩溃。

这些章程是简洁和最低限度的：这是如何选举核心团队的方式，他们是什么，他们在运作。事后看来，需要有一个制定和更新章程的程序。这方面存在一些问题——核心团队太大了。最初我们认为，噢是的，我们将核心团队做大，每个人都可以独立行动。多样性将给世界各地的人提供参与的机会。但是一旦核心团队当选，他们就开始说每个人都必须参与到事务中。由于每个人都参与其中，这使得决策变得困难而缓慢，这从未真正从一个核心到另一个核心改变过。

我组织了一次选举，我们第一次去旧金山的BSDCon，那是新核心团队首次亮相的地方。老的核心团队也在那里，我们进行了一种交接。这也是我第一次亲自与人们见面的时候。到这个时候，项目已经有五到十年的历史了。

很多人有着非常浓厚的兴趣，现在也有更多的商业兴趣。也许是时候制定一些新的章程或修改章程以使事情变得更好。无论何时发生，都会是一个有趣的讨论。这不是发生的问题，而是何时发生的问题。

## **问:在项目的整个生命周期中，您一直在核心团队中任职。这段时间内项目发生了什么变化？**

**答：**  在最早期的日子里，是“嘿，看到问题就解决”，这是一个混合袋。很多问题得到了解决，很多事情都做了，但它是一种孤独的方式。有时候一个人在做某事，只有他们一个人做。但如果两个人在同一个领域工作，有时它可以正常运作，有时它会导致很多冲突。一些人因为冲突和纷争离开了项目，从这个角度来看，项目没有得到很好的服务。随着时间的推移，一种更加合作的态度逐渐形成。

项目在采用不同的工具方面发生了变化。人们忘记了FreeBSD是第一个使用Clang作为编译器的项目。我们是Clang的早期采用者，这对我们很有帮助。在很早的时候，我们比Linux更领先，使用Clang进行所有工作和构建。项目已经从更像是“是的，只是去做，像个牛仔一样”逐渐发展为“我们会和人们讨论”。

在过去的五到十年里，一种更加广泛的审查文化已经发展起来。如果回顾一下项目，从最早期就开始审查事物。我们已经从可能有5%的提交经过审查，到现在有一半以上的提交经过审查。这更像是一个合作的过程。这涉及到人与人之间的关系。你不能只是说：“嘿，进行审查。”你需要培养一群审查员。要让人们审查你的东西，你必须审查其他人的东西。

这需要时间来培养和发展，过去的五到十年里它一直在以更新的强度发展。特别是自从我们引入了Phabricator以来，它允许更多的人提交审查。对于准备就绪的较小更改，它非常棒。对于较大的更改可能会更有挑战。

我们遇到了一些公关问题，比如WireGuard之类的，因为我们作为项目没有发展出一个良好的审查文化。但自那以后，我们的审查文化变得更好了。得到审查变得更容易了。人们正在开发额外的工具，使提交审查和管理审查变得更容易。我们正在努力实现CI的方式。作为一个项目，我们多年来一直在进行CI，但它是事后，你提交东西，然后找出哪里出了问题。我们正在努力从事前修复的方式，以及如何在事前修复它。

使用大型系统运行所有测试的常规CI模型存在一些挑战。你需要将其缩小为FreeBSD的某个子集，这对项目来说一直是一个挑战。

一些努力正在进行中，试图使情况变得更好，平滑事务，改进情况，但在这个过程中也经历了一些痛苦。整个项目的生命周期都是这样的。

有些事情我们过去做得不好，现在做得很好，有些事情我们过去做得不好，我们知道我们需要改变，我们正在摸索着解决它们。然后还有一些事情我们幸运地从未做得不好。我们设法找到了早期分发工具（如CTM和CVSup等）的好解决方案，这在项目陷入糟糕的拨号世界时是最先进的。

我们一直在更新我们的工具，有时候是快速更新，有时候是慢慢更新。

我们迁移到Git可能有点晚，但项目喜欢做的事情是工作在代码上。人们想做一些新的内核事务。他们想要优化缓冲区缓存以更有效地进行流式处理，或者预测工作，以便更好地利用空闲时期，或者解决一些有趣的虚拟网络或Jail等问题。

没有人想做源代码管理的乏味的螺栓和螺母。有很多人有着非常强烈的观点，其中一些观点非常坚定，有些人百分之百确定他们是对的，他们却什么都不做。所以，与其实际实施它，他们坚持说他们在以前的公司做过这个事情，他们知道这是唯一正确的方式。嗯，当你有10个人有10种唯一正确的方式时，就变得难以取得进展。

这不是在倾听项目的独特需求。当然，有很多是通用的，但这个项目是一个有机的东西。而且你越是告诉人们要按照这一种方式去做，越是把它灌输进去，你失去的人越多。

如果你的问题是关于项目多年来的成长，我的答案是我们已经有了很大的成长。有阶段我们做一些酷炫的事情，人们采用它，人们发展它，它变得不可动摇。然后人们炸毁了那个不可动摇的东西，做了一些新的事情或做了一堆新的事情，然后不得不炸毁那个不可动摇的东西，因为它妨碍了。我相信，通过随着时间的推移变得适应性，项目已经实现了增长。

## **问:** FreeBSD带来的永恒价值是什么？

**答：**  FreeBSD在许多领域激发了创新。FreeBSD在缓存设计方面进行了很多创新工作。我们是公开的、开源领域的先驱之一。我们是第一个，然后NetBSD来了，做得更好一点。然后我们看到了，我们又做得更好一点。遗产不一定是一堆代码。它是激发发展的对话和技术。

FreeBSD是一个充满活力和蓬勃发展的社区，它利用了多样化观点带来的冲突和纷争，使世界变得更好。我们通过冲突和纷争学会了如何使FreeBSD变得更好。

有时，冲突和纷争的代价高于收益。在其他时候，冲突和纷争很小，我们却没有足够快速地创新。因此，有一个良好的中间地带，可以使社区充满活力，而不是永远只做同样的事情，或者相反，社区经常发生争吵，无法完成任何事情并最终解散。FreeBSD的一个优势是我们已经学会了如何进行对话，提倡不同的立场，一旦有了当前的胜利者和输家，就转移到下一个斗争。

<span id="author">
<strong>
汤姆·琼斯:
</strong>是一位对保持网络栈快速感兴趣的FreeBSD提交者。
</span>
